(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{436:function(t,a,s){"use strict";s.r(a);var r=s(23),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"作用域和闭包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域和闭包"}},[t._v("#")]),t._v(" 作用域和闭包")]),t._v(" "),s("h2",{attrs:{id:"执行上下文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行上下文"}},[t._v("#")]),t._v(" 执行上下文")]),t._v(" "),s("p",[t._v("JS代码经过编译后，会生成两部分内容：执行上下文（Execution context）和可执行代码。\n执行上下文是 JavaScript 执行一段代码时的运行环境，\n比如调用一个函数，就会进入这个函数的执行上下文，确定该函数在执行期间用到的诸如 this、变量、对象以及函数等。、")]),t._v(" "),s("p",[t._v("执行上下文中包括变量环境和词法环境，其中 "),s("code",[t._v("var")]),t._v(" 声明的变量会放入变量环境，")]),t._v(" "),s("p",[s("code",[t._v("let")]),t._v(" 和 "),s("code",[t._v("const")]),t._v(" 声明的变量会存入词法环境中，在词法环境内部，维护了一个小型栈结构，\n栈底为外层作用域，栈顶为内层作用域，当作用域执行完后会从栈顶弹出。")]),t._v(" "),s("p",[t._v("单个执行上下文变量查找过程如下：\n"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Lovelesss/image-store/blog/202202151612741.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"词法作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#词法作用域"}},[t._v("#")]),t._v(" 词法作用域")]),t._v(" "),s("p",[t._v("就是指作用域是由代码中函数声明的位置来决定的，所以词法作用域是静态的作用域。")]),t._v(" "),s("h2",{attrs:{id:"闭包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#闭包"}},[t._v("#")]),t._v(" 闭包")]),t._v(" "),s("h3",{attrs:{id:"概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),s("p",[t._v("在 JavaScript 中，根据词法作用域的规则，内部函数总是可以访问其外部函数中声明的变量，当通过调用一个外部函数返回一个内部函数后，即使该外部函数已经执行结束了，但是内部函数引用外部函数的变量依然保存在内存中，我们就把这些变量的集合称为闭包。")]),t._v(" "),s("h3",{attrs:{id:"闭包用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#闭包用途"}},[t._v("#")]),t._v(" 闭包用途：")]),t._v(" "),s("ol",[s("li",[t._v("保存变量")]),t._v(" "),s("li",[t._v("保护变量（私有化变量）")])]),t._v(" "),s("h3",{attrs:{id:"闭包缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#闭包缺点"}},[t._v("#")]),t._v(" 闭包缺点")]),t._v(" "),s("p",[t._v("滥用闭包会导致内存泄露。")])])}),[],!1,null,null,null);a.default=v.exports}}]);